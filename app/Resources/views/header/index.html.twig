{#{% extends 'base.html.twig' %}#}

{% block body %}

        <style>
            .navbarjs {
                overflow: hidden;
                background-color: #333;
            }

            .navbarjs a {
                float: left;
                font-size: 16px;
                color: white;
                text-align: center;
                padding: 14px 16px;
                text-decoration: none;
            }

            .dropdown1 {
                float: left;
                overflow: hidden;
            }

            .dropdown1 .dropbtn {
                cursor: pointer;
                font-size: 16px;
                border: none;
                outline: none;
                color: white;
                padding: 14px 16px;
                background-color: inherit;
            }

            .navbarjs a:hover, .dropdown1:hover .dropbtn {
                background-color: #546e7a;
            }

            .dropdown-content1 {
                display: none;
                position: absolute;
                background-color: #f9f9f9;
                min-width: 160px;
                box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
                z-index: 1;
            }

            .dropdown-content1 a {
                float: none;
                color: black;
                padding: 12px 16px;
                text-decoration: none;
                display: block;
                text-align: left;
            }

            .dropdown-content a:hover {
                background-color: #ddd;
            }

            .show {
                display: block;
            }

            .float-right{
                margin-top: 0.5%;
                margin-left: 70%;
            }

            .top{
                margin-top: 1.3%;
            }



        </style>

    <div class="navbarjs">
        <a href="{{ path('homepage') }}" class="brand-logo decal">Acceuil</a>
        <div class="float-right">

            {% for header in headers %}
                <div class="dropdown1">
                    <button class="dropbtn" onclick="myFunction{{ header.id }}()">{{ header.name }}
                        <i class="fa fa-caret-down"></i>
                    </button>
                    <div class="dropdown-content1" id="myDropdown{{ header.id }}">
                        {% for gallery in galleries %}
                            {% if header == gallery.header %}

                                <div class="disposition">
                                    <a href="{{ path('subgallery_index', { 'id': gallery.id }) }}" class="">{{ gallery.name }}</a> <!-- class box-size -->
                                </div>
                                {# ################# Si L'ADMIN EST ACTIF ########################### #}

                                {% if is_granted('ROLE_ADMIN') %}
                                    <div class="">
                                        <a href="{{ path('gallery_edit', { 'id': gallery.id }) }}" class="waves-effect icon-background4 orange darken-2 box-size"><i class=" material-icons bouton-new-gallery-icon">add</i></a>
                                    </div>
                                {% endif %}
                                {# ################################################################## #}

                            {% endif %}
                        {% endfor %}

                        {# ################# Si L'ADMIN EST ACTIF ###########################c#}
                        {% if is_granted('ROLE_ADMIN') %}

                            <a href="{{ path('gallery_new') }}" class="waves-effect waves-light green darken-1">
                                <i class=" material-icons white-text large material-icons-size">add</i>
                            </a>

                        {% endif %}
                        {# ################################################################## #}

                    </div>
                 </div>
            {% endfor %}

        </div>

        {# ################# Si L'ADMIN EST ACTIF ########################### #}
        {% if is_granted('ROLE_ADMIN') %}
            <div class="float-right top">
                <a href="{{ path('header_new') }}" class="btn-floating btn-large waves-effect green darken-1 bouton-new-gallery">
                    <i class=" material-icons bouton-new-gallery-icon">add</i>
                </a>
                <a href="{{ path('header_show_all') }}" class="btn-floating btn-large waves-effect icon-background6 bouton-new-gallery">
                    <i class="material-icons bouton-new-gallery-icon">edit</i>
                </a>
            </div>
        {% endif %}
        {# ################################################################## #}

    </div>
    <div class="nav-content backcontent center">
    <span class="nav-title f-size">Nathalie Sian Cr√©ation</span>
    </div>

    <script>
        /* When the user clicks on the button,
        toggle between hiding and showing the dropdown content */
        {% for header in headers %}
        function myFunction{{ header.id }}() {
                document.getElementById("myDropdown{{ header.id }}").classList.toggle("show");
        }
        {% endfor %}
        // fermer le dropdown lorque l'on click sur le bt ouvert
        window.onclick = function(e) {
            if (!e.target.matches('.dropbtn')) {
                {% for header in headers %}
                    var myDropdown = document.getElementById("myDropdown{{ header.id }}");

                    if (myDropdown.classList.contains('show')) {
                        myDropdown.classList.remove('show');
                    }
                {% endfor %}
            }
        }
    </script>

{% endblock %}